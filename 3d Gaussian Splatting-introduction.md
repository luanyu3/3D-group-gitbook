# 三维重建方法3D Gaussian Splatting简介
## Gaussian的基础知识
### 一维和三维的Gasussian
### v的概率密度函数
### x的概率密度函数
### 把变换矩阵A转换为协方差矩阵：
## 3D 高斯泼溅的整体流程
### 框架图
### 流程简介
Gaussian Splatting的输入是一组静态场景的图像，以及由SfM校准的相应摄像机，通过colmap产生一个稀疏点云作为衍生物。从初始的SfM点云出发，以每一个点为中心生成3D高斯分布，由位置（均值）、协方差矩阵和不透明度定义。然后利用相机参数把投影点投影到图像平面上（也就是splatting）。接下来从splatting的痕迹中进行快速光栅化，得到渲染的图像。将渲染的图像和Ground Trueth图像求loss。最后沿着蓝色的箭头进行反向传播，还有自适应的密度控制模块，最终传到每一个点上的梯度，决定是否需要克隆或者分裂。梯度同时会传播到Projection（协方差）中，更新其位置、协方差矩阵、球谐函数、不透明度等参数，完成一次迭代。
## 流程详解
### 关于“椭球”（即高斯/高斯球）的理解及形成：
1.“椭球”形象引入：

就像给 3 个顶点能表达任意一个 3D 三角形，继而很好的构建三维模型（ Mesh 的思想），研究者自然希望构建三维模型的基础元素能覆盖足够多样的几何体，而椭球就是一种很好的基础元素。
但是，只使用一个个实椭球来构建模型，是远远不够的。这时，我们就想寻找一种方式，来将椭球这种元素变得“强大”一点——能够构建出多样的表示。
那么，如果将椭球的边界变得不清晰，成为一个渐变的，可以融合的呢？如同真实世界中的“黑滴效应”：当你将两个物体慢慢相互靠近直到重叠时，这两个物体的影子之间的颜色会慢慢变深，形成黑滴状：

我们可以看到，如果这样的话，椭球就不再是那个有清晰边界的椭球了。继而，我们可以构建出更多样的表达。由此，我们便会想到概率分布，再由椭球的形状，我们又会想到同样是椭球状的三维高斯分布。

2.3D高斯椭球集的创建——位置与形状

我们要清楚的是3D高斯依旧是一个一个的点，每一个点都是一个3D高斯分布。一维的高斯是一个钟形曲线，二维的高斯是一个像小山包的形状，而三维高斯就像是一个椭球。而3D高斯只要做到一件事情，优化每一个点的参数。

每一个3D高斯的点都存储了以下信息：

Position（位置信息）：这是一个椭球的中心，也是高斯分布的均值，用u表示。

Covariance（协方差矩阵：Σ=RSS⊤R⊤）：次变量可以控制椭球的大小，形状和方向，用Σ表示。

Opacity（不透明度）：用于控制不透明度，用于Splatting时的渲染，用α表示。

Spherical harmonics（球谐函数）：球谐函数，你和视角相关的外观，用c表示。

3.3D高斯椭球集的创建——颜色和不透明度

颜色信息:点云颜色(r,g,b)--使用球谐函数来表示，使得点云在不同角度呈现不同颜色，并有利于提高迭代效率(代码中采用4阶)。

不透明度信息:点云不透明度，密度优化α。

**球谐函数**：
过程较为复杂，讲解详见b站《中恩实验室》视频：https://www.bilibili.com/video/BV1aw411E7bA?vd_source=25c0dee0c9a65590c654aa7f42c9d718
### splatting过程：
(1)形象解释：在这一步中，三维高斯椭球体被投影到二维图像空间椭圆形，以进行渲染。
Splatting 的中文翻译为：抛雪球法。很形象，我们可以想象一下，把一个雪球（高斯球）扔到一个玻璃盘子上，雪球散开以后，在撞击中心的雪量（对图像的贡献）最大，而随着离撞击中心距离的增加，雪量（贡献） 减少。脑补一下盘子上的图像，其实我们可以自然而然的想到二维高斯分布的密度函数。
